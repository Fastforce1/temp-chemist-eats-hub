import{jsxs as l,jsx as e,Fragment as N}from"react/jsx-runtime";import{useState as c,useEffect as w}from"react";import{a as P}from"../entry-server.js";import{toast as g}from"react-toastify";import{Save as C,User as k}from"lucide-react";import"react-dom/server";import"react-router-dom/server.mjs";import"@tanstack/react-query";import"react-router-dom";import"framer-motion";import"@supabase/supabase-js";const M=()=>{const{user:t}=P(),[r,h]=c(!1),[b,u]=c(!1),[d,n]=c({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",dietaryPreferences:[],allergies:[],weightKg:0,heightCm:0,activityLevel:"moderate",calorieGoal:2e3});w(()=>{(async()=>{try{await new Promise(i=>setTimeout(i,1e3)),n(i=>({...i,name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||""}))}catch(i){console.error("Error fetching profile:",i),g.error("Failed to load profile data")}})()},[t]);const s=a=>{const{name:i,value:m}=a.target;n(o=>({...o,[i]:m}))},f=(a,i)=>{n(m=>({...m,[a]:m[a].includes(i)?m[a].filter(o=>o!==i):[...m[a],i]}))},y=async()=>{u(!0);try{await new Promise(a=>setTimeout(a,1e3)),g.success("Profile updated successfully"),h(!1)}catch(a){console.error("Error saving profile:",a),g.error("Failed to update profile")}finally{u(!1)}},x=["Vegetarian","Vegan","Pescatarian","Gluten-Free","Dairy-Free","Keto","Paleo"],p=["Peanuts","Tree Nuts","Milk","Eggs","Soy","Fish","Shellfish","Wheat"],v=[{value:"sedentary",label:"Sedentary (little or no exercise)"},{value:"light",label:"Light (exercise 1-3 times/week)"},{value:"moderate",label:"Moderate (exercise 3-5 times/week)"},{value:"active",label:"Active (exercise 6-7 times/week)"},{value:"very_active",label:"Very Active (intense exercise daily)"}];return l("div",{className:"max-w-4xl mx-auto",children:[l("div",{className:"flex items-center justify-between mb-6",children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),e("button",{onClick:()=>r?y():h(!0),disabled:b,className:`flex items-center px-4 py-2 rounded-lg ${r?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:r?l(N,{children:[e(C,{className:"w-5 h-5 mr-2"}),b?"Saving...":"Save Changes"]}):"Edit Profile"})]}),e("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l("div",{className:"p-6 sm:p-8",children:[l("div",{className:"flex items-center mb-8",children:[e("div",{className:"bg-emerald-100 rounded-full p-4",children:e(k,{className:"w-8 h-8 text-emerald-600"})}),l("div",{className:"ml-4",children:[e("h2",{className:"text-xl font-semibold text-gray-900",children:d.name}),e("p",{className:"text-gray-500",children:d.email})]})]}),l("div",{className:"space-y-6",children:[l("section",{children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e("input",{type:"text",name:"name",value:d.name,onChange:s,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500"})]}),l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e("input",{type:"email",name:"email",value:d.email,onChange:s,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500"})]})]})]}),l("section",{children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Physical Information"}),l("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),e("input",{type:"number",name:"weightKg",value:d.weightKg,onChange:s,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500"})]}),l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),e("input",{type:"number",name:"heightCm",value:d.heightCm,onChange:s,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500"})]}),l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Calorie Goal"}),e("input",{type:"number",name:"calorieGoal",value:d.calorieGoal,onChange:s,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500"})]})]})]}),l("section",{children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Level"}),e("select",{name:"activityLevel",value:d.activityLevel,onChange:s,disabled:!r,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500",children:v.map(a=>e("option",{value:a.value,children:a.label},a.value))})]}),l("section",{children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dietary Preferences"}),e("div",{className:"flex flex-wrap gap-2",children:x.map(a=>e("button",{onClick:()=>r&&f("dietaryPreferences",a),disabled:!r,className:`px-3 py-1 rounded-full text-sm font-medium ${d.dietaryPreferences.includes(a)?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-700"} ${r?"hover:bg-emerald-50":""} disabled:opacity-50`,children:a},a))})]}),l("section",{children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Allergies"}),e("div",{className:"flex flex-wrap gap-2",children:p.map(a=>e("button",{onClick:()=>r&&f("allergies",a),disabled:!r,className:`px-3 py-1 rounded-full text-sm font-medium ${d.allergies.includes(a)?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"} ${r?"hover:bg-red-50":""} disabled:opacity-50`,children:a},a))})]})]})]})})]})};export{M as default};
//# sourceMappingURL=UserProfile-CDMbkbqp.js.map
