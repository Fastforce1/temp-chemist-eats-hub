{"version":3,"file":"UserProfile-CDMbkbqp.js","sources":["../../../src/pages/UserProfile.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { toast } from 'react-toastify';\r\nimport { User, Save } from 'lucide-react';\r\n\r\ninterface UserProfileData {\r\n  name: string;\r\n  email: string;\r\n  dietaryPreferences: string[];\r\n  allergies: string[];\r\n  weightKg: number;\r\n  heightCm: number;\r\n  activityLevel: string;\r\n  calorieGoal: number;\r\n}\r\n\r\nconst UserProfile = () => {\r\n  const { user } = useAuth();\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  \r\n  const [profileData, setProfileData] = useState<UserProfileData>({\r\n    name: user?.name || '',\r\n    email: user?.email || '',\r\n    dietaryPreferences: [],\r\n    allergies: [],\r\n    weightKg: 0,\r\n    heightCm: 0,\r\n    activityLevel: 'moderate',\r\n    calorieGoal: 2000,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // In a real app, fetch user profile data from API\r\n    const fetchProfileData = async () => {\r\n      try {\r\n        // Simulated API call\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        // For now, we'll use mock data\r\n        setProfileData(prev => ({\r\n          ...prev,\r\n          name: user?.name || '',\r\n          email: user?.email || '',\r\n        }));\r\n      } catch (error) {\r\n        console.error('Error fetching profile:', error);\r\n        toast.error('Failed to load profile data');\r\n      }\r\n    };\r\n\r\n    fetchProfileData();\r\n  }, [user]);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setProfileData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleMultiSelect = (category: 'dietaryPreferences' | 'allergies', value: string) => {\r\n    setProfileData(prev => ({\r\n      ...prev,\r\n      [category]: prev[category].includes(value)\r\n        ? prev[category].filter(item => item !== value)\r\n        : [...prev[category], value]\r\n    }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setIsSaving(true);\r\n    try {\r\n      // Simulated API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      toast.success('Profile updated successfully');\r\n      setIsEditing(false);\r\n    } catch (error) {\r\n      console.error('Error saving profile:', error);\r\n      toast.error('Failed to update profile');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const dietaryOptions = [\r\n    'Vegetarian',\r\n    'Vegan',\r\n    'Pescatarian',\r\n    'Gluten-Free',\r\n    'Dairy-Free',\r\n    'Keto',\r\n    'Paleo'\r\n  ];\r\n\r\n  const allergyOptions = [\r\n    'Peanuts',\r\n    'Tree Nuts',\r\n    'Milk',\r\n    'Eggs',\r\n    'Soy',\r\n    'Fish',\r\n    'Shellfish',\r\n    'Wheat'\r\n  ];\r\n\r\n  const activityLevels = [\r\n    { value: 'sedentary', label: 'Sedentary (little or no exercise)' },\r\n    { value: 'light', label: 'Light (exercise 1-3 times/week)' },\r\n    { value: 'moderate', label: 'Moderate (exercise 3-5 times/week)' },\r\n    { value: 'active', label: 'Active (exercise 6-7 times/week)' },\r\n    { value: 'very_active', label: 'Very Active (intense exercise daily)' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Profile Settings</h1>\r\n        <button\r\n          onClick={() => isEditing ? handleSave() : setIsEditing(true)}\r\n          disabled={isSaving}\r\n          className={`flex items-center px-4 py-2 rounded-lg ${\r\n            isEditing\r\n              ? 'bg-emerald-600 hover:bg-emerald-700 text-white'\r\n              : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\r\n          }`}\r\n        >\r\n          {isEditing ? (\r\n            <>\r\n              <Save className=\"w-5 h-5 mr-2\" />\r\n              {isSaving ? 'Saving...' : 'Save Changes'}\r\n            </>\r\n          ) : (\r\n            'Edit Profile'\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n        <div className=\"p-6 sm:p-8\">\r\n          <div className=\"flex items-center mb-8\">\r\n            <div className=\"bg-emerald-100 rounded-full p-4\">\r\n              <User className=\"w-8 h-8 text-emerald-600\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <h2 className=\"text-xl font-semibold text-gray-900\">{profileData.name}</h2>\r\n              <p className=\"text-gray-500\">{profileData.email}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-6\">\r\n            {/* Basic Information */}\r\n            <section>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Basic Information</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={profileData.name}\r\n                    onChange={handleInputChange}\r\n                    disabled={!isEditing}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={profileData.email}\r\n                    onChange={handleInputChange}\r\n                    disabled={!isEditing}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            {/* Physical Information */}\r\n            <section>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Physical Information</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Weight (kg)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"weightKg\"\r\n                    value={profileData.weightKg}\r\n                    onChange={handleInputChange}\r\n                    disabled={!isEditing}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Height (cm)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"heightCm\"\r\n                    value={profileData.heightCm}\r\n                    onChange={handleInputChange}\r\n                    disabled={!isEditing}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Daily Calorie Goal\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"calorieGoal\"\r\n                    value={profileData.calorieGoal}\r\n                    onChange={handleInputChange}\r\n                    disabled={!isEditing}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            {/* Activity Level */}\r\n            <section>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Activity Level</h3>\r\n              <select\r\n                name=\"activityLevel\"\r\n                value={profileData.activityLevel}\r\n                onChange={handleInputChange}\r\n                disabled={!isEditing}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-50 disabled:text-gray-500\"\r\n              >\r\n                {activityLevels.map(level => (\r\n                  <option key={level.value} value={level.value}>\r\n                    {level.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </section>\r\n\r\n            {/* Dietary Preferences */}\r\n            <section>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Dietary Preferences</h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {dietaryOptions.map(option => (\r\n                  <button\r\n                    key={option}\r\n                    onClick={() => isEditing && handleMultiSelect('dietaryPreferences', option)}\r\n                    disabled={!isEditing}\r\n                    className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                      profileData.dietaryPreferences.includes(option)\r\n                        ? 'bg-emerald-100 text-emerald-800'\r\n                        : 'bg-gray-100 text-gray-700'\r\n                    } ${isEditing ? 'hover:bg-emerald-50' : ''} disabled:opacity-50`}\r\n                  >\r\n                    {option}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </section>\r\n\r\n            {/* Allergies */}\r\n            <section>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Allergies</h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {allergyOptions.map(option => (\r\n                  <button\r\n                    key={option}\r\n                    onClick={() => isEditing && handleMultiSelect('allergies', option)}\r\n                    disabled={!isEditing}\r\n                    className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                      profileData.allergies.includes(option)\r\n                        ? 'bg-red-100 text-red-800'\r\n                        : 'bg-gray-100 text-gray-700'\r\n                    } ${isEditing ? 'hover:bg-red-50' : ''} disabled:opacity-50`}\r\n                  >\r\n                    {option}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n"],"names":["UserProfile","user","useAuth","isEditing","setIsEditing","useState","isSaving","setIsSaving","profileData","setProfileData","useEffect","resolve","prev","error","toast","handleInputChange","e","name","value","handleMultiSelect","category","item","handleSave","dietaryOptions","allergyOptions","activityLevels","jsxs","jsx","Fragment","Save","User","level","option"],"mappings":"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"}