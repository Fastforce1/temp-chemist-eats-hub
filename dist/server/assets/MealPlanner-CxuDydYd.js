import{jsxs as s,jsx as e}from"react/jsx-runtime";import{useState as h}from"react";import{format as m,addDays as M,startOfWeek as k}from"date-fns";import{X as S,Search as C,ChevronLeft as R,Calendar as j,ChevronRight as T,Plus as v}from"lucide-react";const w=[{id:"1",name:"Quinoa Buddha Bowl",description:"A nutritious bowl packed with protein-rich quinoa, roasted vegetables, and tahini dressing",image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",prepTime:15,cookTime:25,servings:2,calories:450,protein:15,carbs:65,fat:18,ingredients:["quinoa","sweet potato","chickpeas","kale","tahini"],instructions:["Cook quinoa","Roast vegetables","Make dressing","Assemble bowl"],tags:["Vegetarian","High Protein","Gluten Free"]}],P=({isOpen:o,onClose:p,onSelect:x})=>{const[n,g]=h(""),[d,r]=h([]);if(!o)return null;const N=w.filter(t=>{const i=t.name.toLowerCase().includes(n.toLowerCase())||t.description.toLowerCase().includes(n.toLowerCase()),a=d.length===0||d.every(l=>t.tags.includes(l));return i&&a}),f=Array.from(new Set(w.flatMap(t=>t.tags)));return s("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:p}),e("div",{className:"absolute right-0 top-0 h-full w-full max-w-2xl",children:s("div",{className:"flex h-full flex-col bg-white shadow-xl",children:[s("div",{className:"flex items-center justify-between px-4 py-6 sm:px-6",children:[e("h2",{className:"text-lg font-medium text-gray-900",children:"Select Recipe"}),e("button",{onClick:p,className:"text-gray-400 hover:text-gray-500",children:e(S,{className:"h-6 w-6"})})]}),e("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6",children:s("div",{className:"space-y-6",children:[s("div",{className:"relative",children:[e("input",{type:"text",placeholder:"Search recipes...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:t=>g(t.target.value)}),e(C,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),s("div",{children:[e("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Filter by Tags"}),e("div",{className:"flex flex-wrap gap-2",children:f.map(t=>e("button",{onClick:()=>r(i=>i.includes(t)?i.filter(a=>a!==t):[...i,t]),className:`px-3 py-1 rounded-full text-sm ${d.includes(t)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:t},t))})]}),e("div",{className:"grid grid-cols-1 gap-4",children:N.map(t=>s("button",{onClick:()=>x(t),className:"flex items-center p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[e("img",{src:t.image,alt:t.name,className:"w-20 h-20 object-cover rounded-lg"}),s("div",{className:"ml-4 text-left",children:[e("h3",{className:"font-medium text-gray-900",children:t.name}),e("p",{className:"text-sm text-gray-500 line-clamp-2",children:t.description}),e("div",{className:"mt-2 flex flex-wrap gap-2",children:t.tags.map(i=>e("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:i},i))})]})]},t.id))})]})})]})})]})},E=["breakfast","lunch","dinner","snack"],I=()=>{const[o,p]=h(new Date),[x,n]=h(!1),[g,d]=h(null),[r,N]=h({id:"1",userId:"1",date:m(o,"yyyy-MM-dd"),meals:{breakfast:[],lunch:[],dinner:[],snack:[]},totalNutrients:{calories:0,protein:0,carbs:0,fat:0}}),f=Array.from({length:7},(a,l)=>M(k(o),l)),t=a=>{d(a),n(!0)},i=a=>{if(!g)return;const l={id:Date.now().toString(),recipe:a,servings:1};N(b=>{const y={...b.meals,[g]:[...b.meals[g],l]},u={calories:0,protein:0,carbs:0,fat:0};return Object.values(y).flat().forEach(c=>{u.calories+=c.recipe.calories*c.servings,u.protein+=(c.recipe.protein||0)*c.servings,u.carbs+=(c.recipe.carbs||0)*c.servings,u.fat+=(c.recipe.fat||0)*c.servings}),{...b,meals:y,totalNutrients:u}}),n(!1),d(null)};return s("div",{className:"space-y-6",children:[s("div",{className:"flex justify-between items-center",children:[e("h1",{className:"text-2xl font-semibold text-gray-900",children:"Meal Planner"}),s("div",{className:"flex items-center space-x-4",children:[e("button",{className:"p-2 text-gray-600 hover:text-gray-900",children:e(R,{className:"w-5 h-5"})}),s("div",{className:"flex items-center space-x-2",children:[e(j,{className:"w-5 h-5 text-gray-600"}),e("span",{className:"font-medium",children:m(o,"MMMM d, yyyy")})]}),e("button",{className:"p-2 text-gray-600 hover:text-gray-900",children:e(T,{className:"w-5 h-5"})})]})]}),e("div",{className:"grid grid-cols-7 gap-4",children:f.map(a=>s("button",{onClick:()=>p(a),className:`p-4 rounded-lg text-center ${m(a,"yyyy-MM-dd")===m(o,"yyyy-MM-dd")?"bg-blue-50 text-blue-700":"bg-white hover:bg-gray-50"}`,children:[e("div",{className:"text-sm font-medium",children:m(a,"EEE")}),e("div",{className:"mt-1 text-lg",children:m(a,"d")})]},a.toISOString()))}),s("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e("div",{className:"space-y-6",children:E.map(a=>s("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s("div",{className:"flex justify-between items-center mb-4",children:[e("h2",{className:"text-lg font-medium capitalize",children:a}),e("button",{onClick:()=>t(a),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:e(v,{className:"w-5 h-5"})})]}),r.meals[a].length===0?e("div",{className:"text-center py-8 text-gray-500",children:"No meals planned. Click + to add a meal."}):e("div",{className:"space-y-4",children:r.meals[a].map(l=>s("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s("div",{children:[e("h3",{className:"font-medium",children:l.recipe.name}),s("p",{className:"text-sm text-gray-500",children:[l.servings," serving",l.servings>1?"s":""," â€¢"," ",l.recipe.calories," kcal"]})]}),e("button",{className:"text-gray-400 hover:text-gray-600",children:e(v,{className:"w-5 h-5"})})]},l.id))})]},a))}),s("div",{className:"space-y-6",children:[s("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e("h2",{className:"text-lg font-medium mb-4",children:"Daily Nutrition"}),s("div",{className:"space-y-4",children:[s("div",{className:"flex justify-between items-center",children:[s("div",{children:[e("p",{className:"text-sm font-medium",children:"Calories"}),e("p",{className:"text-2xl font-semibold",children:r.totalNutrients.calories})]}),e("div",{className:"h-2 w-32 bg-gray-200 rounded-full",children:e("div",{className:"h-2 bg-blue-600 rounded-full",style:{width:`${r.totalNutrients.calories/2e3*100}%`}})})]}),s("div",{className:"grid grid-cols-3 gap-4",children:[s("div",{children:[e("p",{className:"text-sm font-medium",children:"Protein"}),s("p",{className:"text-lg",children:[r.totalNutrients.protein,"g"]})]}),s("div",{children:[e("p",{className:"text-sm font-medium",children:"Carbs"}),s("p",{className:"text-lg",children:[r.totalNutrients.carbs,"g"]})]}),s("div",{children:[e("p",{className:"text-sm font-medium",children:"Fat"}),s("p",{className:"text-lg",children:[r.totalNutrients.fat,"g"]})]})]})]})]}),s("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e("h2",{className:"text-lg font-medium mb-4",children:"Suggested Recipes"}),e("div",{className:"space-y-4",children:e("div",{className:"text-center py-8 text-gray-500",children:"Recipe suggestions coming soon..."})})]})]})]}),e(P,{isOpen:x,onClose:()=>{n(!1),d(null)},onSelect:i})]})};export{I as default};
//# sourceMappingURL=MealPlanner-CxuDydYd.js.map
